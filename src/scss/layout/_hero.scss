@use "sass:map";
@use "sass:math";

// --- Light Mode Colors ---
$hero-bg-light: #f8f9fa;
$hero-text-light: #212529;
$hero-subtitle-light: #495057;
$hero-accent-light: #007bff;
$hero-accent-text-light: #ffffff;
$hero-overlay-light: rgba(0, 0, 0, 0.4);

// --- Dark Mode Colors ---
$hero-bg-dark: #121212;
$hero-text-dark: #f8f9fa;
$hero-subtitle-dark: #adb5bd;
$hero-accent-dark: #339dff;
$hero-accent-text-dark: #ffffff;
$hero-overlay-dark: rgba(0, 0, 0, 0.6);

// --- Sizing & Spacing ---
$hero-min-height: 85vh;
$hero-padding: 2rem;
$hero-content-max-width: 800px;

// --- Typography ---
$hero-title-size: clamp(2.5rem, 5vw + 1rem, 4.5rem);
$hero-title-weight: 700;
$hero-subtitle-size: clamp(1.1rem, 2vw + 0.5rem, 1.5rem);
$hero-subtitle-weight: 300;

// --- Effects ---
$hero-cta-border-radius: 50px;
$hero-transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);

// --- SVG Waves for Wavy Divider Variant ---
$wave-svg-light: "data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 320'%3e%3cpath fill='#f8f9fa' fill-opacity='1' d='M0,160L48,176C96,192,192,224,288,213.3C384,203,480,149,576,133.3C672,117,768,139,864,165.3C960,192,1056,224,1152,218.7C1248,213,1344,171,1392,149.3L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z'%3e%3c/path%3e%3c/svg%3e";
$wave-svg-dark: "data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 320'%3e%3cpath fill='#121212' fill-opacity='1' d='M0,160L48,176C96,192,192,224,288,213.3C384,203,480,149,576,133.3C672,117,768,139,864,165.3C960,192,1056,224,1152,218.7C1248,213,1344,171,1392,149.3L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z'%3e%3c/path%3e%3c/svg%3e";

.hero {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: $hero-min-height;
    padding: $hero-padding;
    background-color: $hero-bg-light;
    color: $hero-text-light;
    text-align: center;
    overflow: hidden;
}

.hero__background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    background-size: cover;
    background-position: center;

    &::before {
        content: "";
        position: absolute;
        inset: 0;
        background-color: $hero-overlay-light;
        opacity: 0;
        transition: opacity $hero-transition;
    }
}

.hero--image .hero__background::before {
    opacity: 1;
}

.hero__content {
    position: relative;
    z-index: 2;
    max-width: $hero-content-max-width;
}

.hero__title {
    font-size: $hero-title-size;
    font-weight: $hero-title-weight;
    margin-bottom: 0.5em;
    line-height: 1.2;
}

.hero__subtitle {
    font-size: $hero-subtitle-size;
    font-weight: $hero-subtitle-weight;
    color: $hero-subtitle-light;
    margin-bottom: 1.5em;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.hero__cta {
    display: inline-block;
    background-color: $hero-accent-light;
    color: $hero-accent-text-light;
    padding: 0.8rem 2.2rem;
    border-radius: $hero-cta-border-radius;
    text-decoration: none;
    font-weight: 600;
    transition: $hero-transition;
    transform: scale(1);

    &:hover {
        transform: scale(1.05) translateY(-2px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        filter: brightness(1.1);
    }
}

.hero--dark,
.dark-mode .hero {
    background-color: $hero-bg-dark;
    color: $hero-text-dark;

    .hero__background::before {
        background-color: $hero-overlay-dark;
    }
    .hero__subtitle {
        color: $hero-subtitle-dark;
    }
    .hero__cta {
        background-color: $hero-accent-dark;
        color: $hero-accent-text-dark;
    }

    // Dark mode for specific variants
    &.hero--wavy-divider .hero__background::after {
        background-image: url($wave-svg-dark);
    }

    &.hero--3d-depth .hero__title {
        text-shadow:
            1px 1px 0 #333,
            2px 2px 0 #333,
            3px 3px 0 #222,
            4px 4px 0 #222,
            5px 5px 0 #111;
    }
}

@mixin hero-image-overlay {
    .hero__background::before {
        opacity: 1;
    }
}

@mixin hero-gradient-animated {
    .hero__background {
        background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #feca57);
        background-size: 400% 400%;
        animation: gradient-flow 15s ease infinite;
    }
}

@mixin hero-video {
    .hero__background video {
        position: absolute;
        top: 50%;
        left: 50%;
        min-width: 100%;
        min-height: 100%;
        transform: translateX(-50%) translateY(-50%);
        z-index: 1;
    }
    .hero__background::before {
        opacity: 1;
        z-index: 2;
    }
}

@mixin hero-split {
    padding: 0;
    .hero__background {
        display: flex;
    }
    .hero__split-pane {
        flex: 1;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: $hero-padding;
        background-size: cover;
        background-position: center;
    }
    .hero__content {
        text-align: left;
        max-width: 500px;
    }
    @media (max-width: 768px) {
        .hero__background {
            flex-direction: column;
        }
        .hero__split-pane {
            min-height: 50vh;
        }
        .hero__content {
            text-align: center;
        }
    }
}

@mixin hero-glassmorphism {
    .hero__background::before {
        opacity: 0;
    }
    .hero__content {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(12px) saturate(150%);
        -webkit-backdrop-filter: blur(12px) saturate(150%);
        padding: 2.5rem;
        border-radius: 1rem;
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
    }
}

@mixin hero-angled {
    &::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 25vh;
        background: $hero-bg-light;
        clip-path: polygon(0 100%, 100% 0, 100% 100%);
        z-index: 2;
    }
    .hero__content {
        padding-bottom: 10vh;
    }
    .hero--dark &,
    .dark-mode & {
        &::after {
            background: $hero-bg-dark;
        }
    }
}

@mixin hero-wavy-divider {
    padding-bottom: 150px;
    .hero__background::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 100px;
        background-image: url($wave-svg-light);
        background-repeat: no-repeat;
        background-size: cover;
        z-index: 3;
    }
}

@mixin hero-neon-glow {
    background-color: #0d0221;
    color: #fcfdfe;

    .hero__subtitle {
        color: #a4a2a8;
    }
    .hero__title {
        color: #f222ff;
        text-shadow:
            0 0 5px #f222ff,
            0 0 10px #f222ff,
            0 0 20px #f222ff;
    }
    .hero__cta {
        background-color: #26f7fd;
        color: #0d0221;
        &:hover {
            box-shadow:
                0 0 15px #26f7fd,
                0 0 25px #26f7fd;
        }
    }
}

@mixin hero-glitch {
    .hero__title {
        position: relative;
        animation: glitch-skew 1s infinite linear alternate-reverse;
        &::before,
        &::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        &::before {
            left: 2px;
            text-shadow: -2px 0 #ff00c1;
            clip: rect(44px, 450px, 56px, 0);
            animation: glitch-anim 5s infinite linear alternate-reverse;
        }
        &::after {
            left: -2px;
            text-shadow:
                -2px 0 #00fff9,
                2px 2px #ff00c1;
            animation: glitch-anim-2 1s infinite linear alternate-reverse;
        }
    }
}

@mixin hero-brutalist {
    background-color: transparent;
    .hero__background {
        background: #fdf500;
    }
    .hero__content {
        background: white;
        padding: 2rem;
        border: 3px solid #000;
        box-shadow: 10px 10px 0 #000;
        color: #000;
    }
    .hero__subtitle {
        color: #000;
    }
    .hero__cta {
        background-color: #000;
        color: #fff;
        border-radius: 0;
        border: 2px solid #000;
        &:hover {
            background: #fff !important;
            color: #000 !important;
        }
    }
}

@mixin hero-retro-terminal {
    background-color: #000;
    color: #00ff41;
    font-family: "Courier New", Courier, monospace;
    .hero__subtitle {
        color: #00ff41;
        &::after {
            content: "_";
            animation: blink 1s step-end infinite;
        }
    }
    .hero__cta {
        background-color: #00ff41;
        color: #000;
    }
}

@mixin hero-aurora {
    background-color: #000;
    .hero__background {
        background:
            radial-gradient(ellipse at 50% 120%, #00ff87, transparent),
            radial-gradient(ellipse at 20% 100%, #0077ff, transparent),
            radial-gradient(ellipse at 80% 100%, #ff0077, transparent);
        animation: aurora-flow 20s linear infinite;
    }
}

@mixin hero-minimalist {
    min-height: 60vh;
    .hero__title {
        font-weight: 400;
    }
    .hero__cta {
        background-color: transparent;
        color: $hero-text-light;
        border-radius: 4px;
        border: 1px solid $hero-text-light;
        &:hover {
            background-color: $hero-text-light;
            color: $hero-bg-light;
        }
    }
    .hero--dark &,
    .dark-mode & {
        .hero__cta {
            color: $hero-text-dark;
            border-color: $hero-text-dark;
            &:hover {
                background-color: $hero-text-dark;
                color: $hero-bg-dark;
            }
        }
    }
}

@mixin hero-neumorphism {
    background-color: #e0e5ec;
    color: #5f6775;
    .hero__subtitle {
        color: #8a94a6;
    }
    .hero__content {
        text-shadow: 1px 1px 1px #fff;
    }
    .hero__cta {
        background-color: #e0e5ec;
        color: #5f6775;
        border-radius: 1rem;
        box-shadow:
            9px 9px 16px #a3b1c6,
            -9px -9px 16px #ffffff;
        &:hover {
            box-shadow:
                inset 6px 6px 10px 0 #a3b1c6,
                inset -6px -6px 10px 0 #ffffff;
        }
    }
}

@mixin hero-geometric-pattern {
    .hero__background {
        background-color: #2a3a4a;
        background-image:
            linear-gradient(45deg, #3c4f62 25%, transparent 25%),
            linear-gradient(-45deg, #3c4f62 25%, transparent 25%),
            linear-gradient(45deg, transparent 75%, #3c4f62 75%),
            linear-gradient(-45deg, transparent 75%, #3c4f62 75%);
        background-size: 20px 20px;
    }
}

@mixin hero-blob-shape {
    .hero__background svg {
        position: absolute;
        width: 150%;
        height: 150%;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        animation: blob-morph 15s ease-in-out infinite;
        z-index: 1;
    }
    .hero__content {
        z-index: 2;
    }
}

@mixin hero-paper-texture {
    .hero__background {
        background-color: #fdfaf5;
        background-image: url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23d4c8a8" fill-opacity="0.1"%3E%3Cpath d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');
    }
}

@mixin hero-circuit-board {
    background-color: #1a1a2e;
    color: #00d4aa;
    .hero__background {
        background-color: #1a1a2e;
        background-image:
            linear-gradient(90deg, transparent 98%, #0f3460 100%),
            linear-gradient(180deg, transparent 98%, #0f3460 100%);
        background-size: 20px 20px;
        opacity: 0.3;
    }
}

@mixin hero-parallax {
    .hero__background {
        background-attachment: fixed;
    }
}

@mixin hero-interactive-spotlight {
    .hero__background {
        background: radial-gradient(
            circle 400px at var(--x, 50%) var(--y, 50%),
            rgba(255, 255, 255, 0.15),
            transparent
        );
    }
}

@mixin hero-holographic {
    .hero__background {
        background: linear-gradient(
            45deg,
            #ff6b6b,
            #4ecdc4,
            #45b7d1,
            #96ceb4,
            #feca57
        );
        background-size: 400% 400%;
        animation: holographic-shift 10s ease infinite;
    }
}

@mixin hero-watercolor {
    .hero__background {
        background:
            radial-gradient(
                circle at 20% 50%,
                rgba(120, 119, 198, 0.4) 0%,
                transparent 40%
            ),
            radial-gradient(
                circle at 80% 20%,
                rgba(255, 119, 198, 0.4) 0%,
                transparent 40%
            ),
            radial-gradient(
                circle at 40% 80%,
                rgba(120, 219, 255, 0.4) 0%,
                transparent 40%
            );
    }
}

@mixin hero-3d-depth {
    .hero__title {
        text-shadow:
            1px 1px 0 #ccc,
            2px 2px 0 #ccc,
            3px 3px 0 #bbb,
            4px 4px 0 #bbb,
            5px 5px 0 #aaa;
    }
}

@mixin hero-offset-content {
    justify-content: flex-start;
    text-align: left;
    .hero__content {
        margin-left: 10%;
    }
    @media (max-width: 768px) {
        justify-content: center;
        text-align: center;
        .hero__content {
            margin-left: 0;
        }
    }
}

@mixin hero-particles {
    .hero__background #particles-js {
        position: absolute;
        width: 100%;
        height: 100%;
        z-index: 1;
    }
}

@keyframes gradient-flow {
    0% {
        background-position: 0 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0 50%;
    }
}
@keyframes glitch-skew {
    0% {
        transform: skewX(0deg);
    }
    10% {
        transform: skewX(3deg);
    }
    40% {
        transform: skewX(-2deg);
    }
    70% {
        transform: skewX(1deg);
    }
    100% {
        transform: skewX(0deg);
    }
}
@keyframes glitch-anim {
    0% {
        clip: rect(42px, 9999px, 44px, 0);
    }
    10% {
        clip: rect(20px, 9999px, 80px, 0);
    }
    100% {
        clip: rect(1px, 9999px, 90px, 0);
    }
}
@keyframes glitch-anim-2 {
    0% {
        clip: rect(85px, 9999px, 90px, 0);
    }
    30% {
        clip: rect(10px, 9999px, 50px, 0);
    }
    100% {
        clip: rect(2px, 9999px, 70px, 0);
    }
}
@keyframes blink {
    50% {
        opacity: 0;
    }
}
@keyframes aurora-flow {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}
@keyframes holographic-shift {
    0% {
        background-position: 0 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0 50%;
    }
}
@keyframes blob-morph {
    0%,
    100% {
        transform: translate(-50%, -50%) rotate(0deg) scale(1);
    }
    50% {
        transform: translate(-50%, -50%) rotate(180deg) scale(1.1);
    }
}

.hero {
    &--image-overlay {
        @include hero-image-overlay;
    }
    &--gradient-animated {
        @include hero-gradient-animated;
    }
    &--video {
        @include hero-video;
    }
    &--split {
        @include hero-split;
    }
    &--glassmorphism {
        @include hero-glassmorphism;
    }
    &--angled {
        @include hero-angled;
    }
    &--wavy-divider {
        @include hero-wavy-divider;
    }
    &--neon-glow {
        @include hero-neon-glow;
    }
    &--glitch {
        @include hero-glitch;
    }
    &--brutalist {
        @include hero-brutalist;
    }
    &--retro-terminal {
        @include hero-retro-terminal;
    }
    &--aurora {
        @include hero-aurora;
    }
    &--minimalist {
        @include hero-minimalist;
    }
    &--neumorphism {
        @include hero-neumorphism;
    }
    &--geometric-pattern {
        @include hero-geometric-pattern;
    }
    &--blob-shape {
        @include hero-blob-shape;
    }
    &--paper-texture {
        @include hero-paper-texture;
    }
    &--circuit-board {
        @include hero-circuit-board;
    }
    &--parallax {
        @include hero-parallax;
    }
    &--interactive-spotlight {
        @include hero-interactive-spotlight;
    }
    &--holographic {
        @include hero-holographic;
    }
    &--watercolor {
        @include hero-watercolor;
    }
    &--3d-depth {
        @include hero-3d-depth;
    }
    &--offset-content {
        @include hero-offset-content;
    }
    &--particles {
        @include hero-particles;
    }
}
